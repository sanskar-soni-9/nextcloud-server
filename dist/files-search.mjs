/*! third party licenses: dist/vendor.LICENSE.txt */
import{bT as t,bU as o,bR as d}from"./core-common.mjs";import{R as r}from"./chunks/index-Dr6Qtwvk.mjs";import{l as a}from"./chunks/logger-abzvQ-j7.mjs";import"./chunks/preload-helper-BG02UnR2.mjs";import"./chunks/index-7XKGWWeV.mjs";import"./chunks/_plugin-vue2_normalizer-VrK6B12S-B9aYHv6f.mjs";function n(){const e=window.OCA;e.UnifiedSearch&&(a.info("Initializing unified search plugin: folder search from files app"),e.UnifiedSearch.registerFilterAction({id:"files",appId:"files",label:t("files","In folder"),icon:o("files","app.svg"),callback:()=>{r("Pick plain text files").addMimeTypeFilter("httpd/unix-directory").allowDirectories(!0).addButton({label:"Pick",callback:l=>{a.info("Folder picked",{folder:l[0]});const i=l[0];d("nextcloud:unified-search:add-filter",{id:"files",payload:i,filterUpdateText:t("files","Search in folder: {folder}",{folder:i.basename}),filterParams:{path:i.path}})}}).build().pick()}}))}document.addEventListener("DOMContentLoaded",n);
