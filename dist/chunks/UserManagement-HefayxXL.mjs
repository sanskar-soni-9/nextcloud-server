/*! third party licenses: dist/vendor.LICENSE.txt */
import{aW as p,ci as O,F as $,T as x,a8 as G,af as C,al as A,a4 as _,bT as l,c6 as D,a$ as L,b as M,v as I,a1 as S,D as F,aa as P,bY as k,c3 as z,X as Q,c1 as y,ch as v,H as E}from"../core-common.mjs";import{n as d,au as B,b6 as T,D as H}from"./icons-DENytzON.mjs";import"./index-7XKGWWeV.mjs";import{B as u,z as m}from"./_plugin-vue2_normalizer-VrK6B12S-B9aYHv6f.mjs";import{a as j}from"./index-D61A_Z5g.mjs";import{l as b}from"./logger-BPaGOp_B.mjs";import{i as c,s as g}from"./index-CPCGRGcp.mjs";import{i as q,u as h,d as N}from"./userUtils-Di345_lx.mjs";import"./index-CFlSzEWv.mjs";import"./index-BxKJ4nfQ.mjs";p.directive("elementVisibility",O);const f=3,R=p.extend({name:"VirtualList",props:{dataComponent:{type:[Object,Function],required:!0},dataKey:{type:String,required:!0},dataSources:{type:Array,required:!0},itemHeight:{type:Number,required:!0},extraProps:{type:Object,default:()=>({})}},data(){return{bufferItems:f,index:0,headerHeight:0,tableHeight:0,resizeObserver:null}},computed:{startIndex(){return Math.max(0,this.index-f)},shownItems(){return Math.ceil((this.tableHeight-this.headerHeight)/this.itemHeight)+f*2},renderedItems(){return this.dataSources.slice(this.startIndex,this.startIndex+this.shownItems)},tbodyStyle(){const e=this.startIndex+this.shownItems>this.dataSources.length,s=this.dataSources.length-this.startIndex-this.shownItems,a=Math.min(this.dataSources.length-this.startIndex,s);return{paddingTop:"".concat(this.startIndex*this.itemHeight,"px"),paddingBottom:e?0:"".concat(a*this.itemHeight,"px")}}},mounted(){var e,s;const a=this.$el,r=(e=this.$refs)==null?void 0:e.tfoot,n=(s=this.$refs)==null?void 0:s.thead;this.resizeObserver=new ResizeObserver(j.debounce(()=>{var o,i;this.headerHeight=(o=n==null?void 0:n.clientHeight)!=null?o:0,this.tableHeight=(i=a==null?void 0:a.clientHeight)!=null?i:0,b.debug("VirtualList resizeObserver updated"),this.onScroll()},100,!1)),this.resizeObserver.observe(a),this.resizeObserver.observe(r),this.resizeObserver.observe(n),this.$el.addEventListener("scroll",this.onScroll)},beforeDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()},methods:{handleFooterVisibility(e){e&&this.$emit("scroll-end")},onScroll(){this.index=Math.max(0,Math.round(this.$el.scrollTop/this.itemHeight))}}});var W=function(){var e=this,s=e._self._c;return e._self._setupProxy,s("table",{staticClass:"user-list"},[e._t("before"),s("thead",{ref:"thead",staticClass:"user-list__header",attrs:{role:"rowgroup"}},[e._t("header")],2),s("tbody",{staticClass:"user-list__body",style:e.tbodyStyle},e._l(e.renderedItems,function(a,r){return s(e.dataComponent,e._b({key:a[e.dataKey],tag:"component",attrs:{user:a,visible:(r>=e.bufferItems||e.index<=e.bufferItems)&&r<e.shownItems-e.bufferItems}},"component",e.extraProps,!1))}),1),s("tfoot",{directives:[{name:"element-visibility",rawName:"v-element-visibility",value:e.handleFooterVisibility,expression:"handleFooterVisibility"}],ref:"tfoot",staticClass:"user-list__footer",attrs:{role:"rowgroup"}},[e._t("footer")],2)],2)},V=[],Y=d(R,W,V,!1,null,"1efaf525");const K=Y.exports,X={name:"NewUserDialog",components:{NcButton:$,NcDialog:x,NcPasswordField:G,NcSelect:C,NcTextField:A},props:{loading:{type:Object,required:!0},newUser:{type:Object,required:!0},quotaOptions:{type:Array,required:!0}},data(){return{possibleManagers:[],managerInputLabel:t("settings","Manager"),managerLabel:t("settings","Set account manager")}},computed:{showConfig(){return this.$store.getters.getShowConfig},settings(){return this.$store.getters.getServerData},usernameLabel(){return this.settings.newUserGenerateUserID?t("settings","Account name will be autogenerated"):t("settings","Account name (required)")},minPasswordLength(){return this.$store.getters.getPasswordPolicyMinLength},groups(){return this.$store.getters.getGroups.filter(e=>e.id!=="disabled").sort((e,s)=>e.name.localeCompare(s.name))},subAdminsGroups(){return this.$store.getters.getSubadminGroups},canAddGroups(){return this.groups.map(e=>(e=Object.assign({},e),e.$isDisabled=e.canAdd===!1,e))},languages(){return[{name:t("settings","Common languages"),languages:this.settings.languages.commonLanguages},...this.settings.languages.commonLanguages,{name:t("settings","Other languages"),languages:this.settings.languages.otherLanguages},...this.settings.languages.otherLanguages]}},async beforeMount(){await this.searchUserManager()},mounted(){var e,s;(s=(e=this.$refs.username)==null?void 0:e.focus)==null||s.call(e)},methods:{async createUser(){var e,s,a,r,n,o;this.loading.all=!0;try{await this.$store.dispatch("addUser",{userid:this.newUser.id,password:this.newUser.password,displayName:this.newUser.displayName,email:this.newUser.mailAddress,groups:this.newUser.groups.map(i=>i.id),subadmin:this.newUser.subAdminsGroups.map(i=>i.id),quota:this.newUser.quota.id,language:this.newUser.language.code,manager:this.newUser.manager.id}),this.$emit("reset"),(s=(e=this.$refs.username)==null?void 0:e.focus)==null||s.call(e),this.$emit("closing")}catch(i){if(this.loading.all=!1,i.response&&i.response.data&&i.response.data.ocs&&i.response.data.ocs.meta){const w=i.response.data.ocs.meta.statuscode;w===102?(r=(a=this.$refs.username)==null?void 0:a.focus)==null||r.call(a):w===107&&((o=(n=this.$refs.password)==null?void 0:n.focus)==null||o.call(n))}}},handleGroupInput(e){this.newUser.groups=e.filter(s=>!!s.id)},async createGroup({name:e}){this.loading.groups=!0;try{await this.$store.dispatch("addGroup",e),this.newUser.groups.push(this.groups.find(s=>s.id===e)),this.loading.groups=!1}catch{this.loading.groups=!1}},validateQuota(e){const s=OC.Util.computerFileSize(e);return s!==null&&s>=0?(e=OC.Util.humanFileSize(OC.Util.computerFileSize(e)),this.newUser.quota={id:e,label:e},this.newUser.quota):(this.newUser.quota=this.quotaOptions[0],this.quotaOptions[0])},languageFilterBy(e,s,a){return e.languages?e.languages.some(({name:r})=>r.toLocaleLowerCase().includes(a.toLocaleLowerCase())):(s||"").toLocaleLowerCase().includes(a.toLocaleLowerCase())},async searchUserManager(e){await this.$store.dispatch("searchUsers",{offset:0,limit:10,search:e}).then(s=>{const a=s!=null&&s.data?Object.values(s==null?void 0:s.data.ocs.data.users):[];a.length>0&&(this.possibleManagers=a)})}}};var Z=function(){var e=this,s=e._self._c;return s("NcDialog",e._g({staticClass:"dialog",attrs:{size:"small",name:e.t("settings","New account"),"out-transition":""},scopedSlots:e._u([{key:"actions",fn:function(){return[s("NcButton",{staticClass:"dialog__submit",attrs:{"data-test":"submit",form:"new-user-form",type:"primary","native-type":"submit"}},[e._v(" "+e._s(e.t("settings","Add new account"))+" ")])]},proxy:!0}])},e.$listeners),[s("form",{staticClass:"dialog__form",attrs:{id:"new-user-form","data-test":"form",disabled:e.loading.all},on:{submit:function(a){return a.preventDefault(),e.createUser.apply(null,arguments)}}},[s("NcTextField",{ref:"username",staticClass:"dialog__item",attrs:{"data-test":"username",value:e.newUser.id,disabled:e.settings.newUserGenerateUserID,label:e.usernameLabel,autocapitalize:"none",autocomplete:"off",spellcheck:"false",pattern:"[a-zA-Z0-9 _\\.@\\-']+",required:""},on:{"update:value":function(a){return e.$set(e.newUser,"id",a)}}}),s("NcTextField",{staticClass:"dialog__item",attrs:{"data-test":"displayName",value:e.newUser.displayName,label:e.t("settings","Display name"),autocapitalize:"none",autocomplete:"off",spellcheck:"false"},on:{"update:value":function(a){return e.$set(e.newUser,"displayName",a)}}}),e.settings.newUserRequireEmail?e._e():s("span",{staticClass:"dialog__hint",attrs:{id:"password-email-hint"}},[e._v(" "+e._s(e.t("settings","Either password or email is required"))+" ")]),s("NcPasswordField",{ref:"password",staticClass:"dialog__item",attrs:{"data-test":"password",value:e.newUser.password,minlength:e.minPasswordLength,maxlength:469,"aria-describedby":"password-email-hint",label:e.newUser.mailAddress===""?e.t("settings","Password (required)"):e.t("settings","Password"),autocapitalize:"none",autocomplete:"new-password",spellcheck:"false",required:e.newUser.mailAddress===""},on:{"update:value":function(a){return e.$set(e.newUser,"password",a)}}}),s("NcTextField",{staticClass:"dialog__item",attrs:{"data-test":"email",type:"email",value:e.newUser.mailAddress,"aria-describedby":"password-email-hint",label:e.newUser.password===""||e.settings.newUserRequireEmail?e.t("settings","Email (required)"):e.t("settings","Email"),autocapitalize:"none",autocomplete:"off",spellcheck:"false",required:e.newUser.password===""||e.settings.newUserRequireEmail},on:{"update:value":function(a){return e.$set(e.newUser,"mailAddress",a)}}}),s("div",{staticClass:"dialog__item"},[s("NcSelect",{staticClass:"dialog__select",attrs:{"input-label":e.settings.isAdmin?e.t("settings","Groups"):e.t("settings","Groups (required)"),placeholder:e.t("settings","Set account groups"),disabled:e.loading.groups||e.loading.all,options:e.canAddGroups,value:e.newUser.groups,label:"name","close-on-select":!1,multiple:!0,taggable:!0,required:!e.settings.isAdmin},on:{input:e.handleGroupInput,"option:created":e.createGroup}})],1),e.subAdminsGroups.length>0?s("div",{staticClass:"dialog__item"},[s("NcSelect",{staticClass:"dialog__select",attrs:{"input-label":e.t("settings","Administered groups"),placeholder:e.t("settings","Set account as admin for …"),options:e.subAdminsGroups,"close-on-select":!1,multiple:!0,label:"name"},model:{value:e.newUser.subAdminsGroups,callback:function(a){e.$set(e.newUser,"subAdminsGroups",a)},expression:"newUser.subAdminsGroups"}})],1):e._e(),s("div",{staticClass:"dialog__item"},[s("NcSelect",{staticClass:"dialog__select",attrs:{"input-label":e.t("settings","Quota"),placeholder:e.t("settings","Set account quota"),options:e.quotaOptions,clearable:!1,taggable:!0,"create-option":e.validateQuota},model:{value:e.newUser.quota,callback:function(a){e.$set(e.newUser,"quota",a)},expression:"newUser.quota"}})],1),e.showConfig.showLanguages?s("div",{staticClass:"dialog__item"},[s("NcSelect",{staticClass:"dialog__select",attrs:{"input-label":e.t("settings","Language"),placeholder:e.t("settings","Set default language"),clearable:!1,selectable:a=>!a.languages,"filter-by":e.languageFilterBy,options:e.languages,label:"name"},model:{value:e.newUser.language,callback:function(a){e.$set(e.newUser,"language",a)},expression:"newUser.language"}})],1):e._e(),s("div",{class:["dialog__item dialog__managers",{"icon-loading-small":e.loading.manager}]},[s("NcSelect",{staticClass:"dialog__select",attrs:{"input-label":e.managerInputLabel,placeholder:e.managerLabel,options:e.possibleManagers,"user-select":!0,label:"displayname"},on:{search:e.searchUserManager},model:{value:e.newUser.manager,callback:function(a){e.$set(e.newUser,"manager",a)},expression:"newUser.manager"}})],1)],1)])},J=[],ee=d(X,Z,J,!1,null,"04f6f32a");const se=ee.exports,te=p.extend({name:"UserListFooter",components:{NcLoadingIcon:_},props:{loading:{type:Boolean,required:!0},filteredUsers:{type:Array,required:!0}},computed:{userCount(){return this.loading?this.n("settings","{userCount} account …","{userCount} accounts …",this.filteredUsers.length,{userCount:this.filteredUsers.length}):this.n("settings","{userCount} account","{userCount} accounts",this.filteredUsers.length,{userCount:this.filteredUsers.length})}},methods:{t:l,n:D}});var ae=function(){var e=this,s=e._self._c;return e._self._setupProxy,s("tr",{staticClass:"footer"},[s("th",{attrs:{scope:"row"}},[s("span",{staticClass:"hidden-visually"},[e._v(e._s(e.t("settings","Total rows summary")))])]),s("td",{staticClass:"footer__cell footer__cell--loading"},[e.loading?s("NcLoadingIcon",{attrs:{title:e.t("settings","Loading accounts …"),size:32}}):e._e()],1),s("td",{staticClass:"footer__cell footer__cell--count footer__cell--multiline"},[s("span",{attrs:{"aria-describedby":"user-count-desc"}},[e._v(e._s(e.userCount))]),s("span",{staticClass:"hidden-visually",attrs:{id:"user-count-desc"}},[e._v(" "+e._s(e.t("settings","Scroll to load more rows"))+" ")])])])},ie=[],re=d(te,ae,ie,!1,null,"01acea8d");const ne=re.exports,oe=p.extend({name:"UserListHeader",props:{hasObfuscated:{type:Boolean,required:!0}},computed:{showConfig(){return this.$store.getters.getShowConfig},settings(){return this.$store.getters.getServerData},subAdminsGroups(){return this.$store.getters.getSubadminGroups},passwordLabel(){return this.hasObfuscated?l("settings","Password or insufficient permissions message"):l("settings","Password")}},methods:{t:l}});var le=function(){var e=this,s=e._self._c;return e._self._setupProxy,s("tr",{staticClass:"header"},[s("th",{staticClass:"header__cell header__cell--avatar",attrs:{"data-cy-user-list-header-avatar":"",scope:"col"}},[s("span",{staticClass:"hidden-visually"},[e._v(" "+e._s(e.t("settings","Avatar"))+" ")])]),s("th",{staticClass:"header__cell header__cell--displayname",attrs:{"data-cy-user-list-header-displayname":"",scope:"col"}},[s("strong",[e._v(" "+e._s(e.t("settings","Display name"))+" ")])]),s("th",{staticClass:"header__cell header__cell--username",attrs:{"data-cy-user-list-header-username":"",scope:"col"}},[s("span",[e._v(" "+e._s(e.t("settings","Account name"))+" ")])]),s("th",{staticClass:"header__cell",class:{"header__cell--obfuscated":e.hasObfuscated},attrs:{"data-cy-user-list-header-password":"",scope:"col"}},[s("span",[e._v(e._s(e.passwordLabel))])]),s("th",{staticClass:"header__cell",attrs:{"data-cy-user-list-header-email":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Email")))])]),s("th",{staticClass:"header__cell header__cell--large",attrs:{"data-cy-user-list-header-groups":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Groups")))])]),e.subAdminsGroups.length>0&&e.settings.isAdmin?s("th",{staticClass:"header__cell header__cell--large",attrs:{"data-cy-user-list-header-subadmins":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Group admin for")))])]):e._e(),s("th",{staticClass:"header__cell",attrs:{"data-cy-user-list-header-quota":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Quota")))])]),e.showConfig.showLanguages?s("th",{staticClass:"header__cell header__cell--large",attrs:{"data-cy-user-list-header-languages":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Language")))])]):e._e(),e.showConfig.showUserBackend||e.showConfig.showStoragePath?s("th",{staticClass:"header__cell header__cell--large",attrs:{"data-cy-user-list-header-storage-location":"",scope:"col"}},[e.showConfig.showUserBackend?s("span",[e._v(" "+e._s(e.t("settings","Account backend"))+" ")]):e._e(),e.showConfig.showStoragePath?s("span",{staticClass:"header__subtitle"},[e._v(" "+e._s(e.t("settings","Storage location"))+" ")]):e._e()]):e._e(),e.showConfig.showLastLogin?s("th",{staticClass:"header__cell",attrs:{"data-cy-user-list-header-last-login":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Last login")))])]):e._e(),s("th",{staticClass:"header__cell header__cell--large header__cell--fill",attrs:{"data-cy-user-list-header-manager":"",scope:"col"}},[s("span",[e._v(e._s(e.t("settings","Manager")))])]),s("th",{staticClass:"header__cell header__cell--actions",attrs:{"data-cy-user-list-header-actions":"",scope:"col"}},[s("span",{staticClass:"hidden-visually"},[e._v(" "+e._s(e.t("settings","Account actions"))+" ")])])])},de=[],ue=d(oe,le,de,!1,null,"768a9bf9");const ce=ue.exports,ge=L({components:{NcActionButton:M,NcActions:I,NcIconSvgWrapper:S},props:{actions:{type:Array,required:!0},disabled:{type:Boolean,required:!0},edit:{type:Boolean,required:!0},user:{type:Object,required:!0}},computed:{editSvg(){return this.edit?B:T}},methods:{toggleEdit(){this.$emit("update:edit",!this.edit)}}});var he=function(){var e=this,s=e._self._c;return e._self._setupProxy,s("NcActions",{attrs:{"aria-label":e.t("settings","Toggle account actions menu"),disabled:e.disabled,inline:1}},[s("NcActionButton",{attrs:{"data-cy-user-list-action-toggle-edit":"".concat(e.edit),disabled:e.disabled},on:{click:e.toggleEdit},scopedSlots:e._u([{key:"icon",fn:function(){return[s("NcIconSvgWrapper",{key:e.editSvg,attrs:{svg:e.editSvg,"aria-hidden":"true"}})]},proxy:!0}])},[e._v(" "+e._s(e.edit?e.t("settings","Done"):e.t("settings","Edit"))+" ")]),e._l(e.actions,function({action:a,icon:r,text:n},o){return s("NcActionButton",{key:o,attrs:{disabled:e.disabled,"aria-label":n,icon:r},on:{click:i=>a(i,{...e.user})}},[e._v(" "+e._s(n)+" ")])})],2)},pe=[],me=d(ge,he,pe,!1,null,null);const be=me.exports,fe={props:{user:{type:Object,required:!0},settings:{type:Object,default:()=>({})},groups:{type:Array,default:()=>[]},subAdminsGroups:{type:Array,default:()=>[]},quotaOptions:{type:Array,default:()=>[]},languages:{type:Array,required:!0},externalActions:{type:Array,default:()=>[]}},computed:{showConfig(){return this.$store.getters.getShowConfig},userGroups(){return this.groups.filter(e=>this.user.groups.includes(e.id))},userSubAdminsGroups(){return this.subAdminsGroups.filter(e=>this.user.subadmin.includes(e.id))},availableGroups(){return this.groups.map(e=>{const s=Object.assign({},e);return s.$isDisabled=e.canAdd===!1&&!this.user.groups.includes(e.id)||e.canRemove===!1&&this.user.groups.includes(e.id),s})},usedSpace(){return this.user.quota.used?t("settings","{size} used",{size:OC.Util.humanFileSize(this.user.quota.used)}):t("settings","{size} used",{size:OC.Util.humanFileSize(0)})},usedQuota(){let e=this.user.quota.quota;return e>0?e=Math.min(100,Math.round(this.user.quota.used/e*100)):e=95*(1-1/(this.user.quota.used/(10*Math.pow(2,30))+1)),isNaN(e)?0:e},userQuota(){if(this.user.quota.quota>=0){const e=OC.Util.humanFileSize(this.user.quota.quota);return this.quotaOptions.find(s=>s.id===e)||{id:e,label:e}}else if(this.user.quota.quota==="default")return this.quotaOptions[0];return this.quotaOptions[1]},minPasswordLength(){return this.$store.getters.getPasswordPolicyMinLength},userLanguage(){const e=this.languages[0].languages.concat(this.languages[1].languages).find(s=>s.code===this.user.language);return typeof e!="object"&&this.user.language!==""?{code:this.user.language,name:this.user.language}:this.user.language===""?!1:e},userLastLoginTooltip(){return this.user.lastLogin>0?OC.Util.formatDate(this.user.lastLogin):""},userLastLogin(){return this.user.lastLogin>0?OC.Util.relativeModifiedDate(this.user.lastLogin):t("settings","Never")}}},_e={name:"UserRow",components:{NcAvatar:F,NcLoadingIcon:_,NcProgressBar:P,NcSelect:C,NcTextField:A,UserRowActions:be},mixins:[fe],props:{user:{type:Object,required:!0},visible:{type:Boolean,required:!0},users:{type:Array,required:!0},hasObfuscated:{type:Boolean,required:!0},groups:{type:Array,default:()=>[]},subAdminsGroups:{type:Array,required:!0},quotaOptions:{type:Array,required:!0},languages:{type:Array,required:!0},settings:{type:Object,required:!0},externalActions:{type:Array,default:()=>[]}},data(){var e;return{selectedQuota:!1,rand:Math.random().toString(36).substring(2),loadingPossibleManagers:!1,possibleManagers:[],currentManager:"",editing:!1,loading:{all:!1,displayName:!1,password:!1,mailAddress:!1,groups:!1,subadmins:!1,quota:!1,delete:!1,disable:!1,languages:!1,wipe:!1,manager:!1},editedDisplayName:this.user.displayname,editedPassword:"",editedMail:(e=this.user.email)!=null?e:""}},computed:{managerLabel(){return t("settings","Set line manager")},isObfuscated(){return q(this.user)},showConfig(){return this.$store.getters.getShowConfig},isLoadingUser(){return this.loading.delete||this.loading.disable||this.loading.wipe},isLoadingField(){return this.loading.delete||this.loading.disable||this.loading.all},uniqueId(){return encodeURIComponent(this.user.id+this.rand)},userGroupsLabels(){return this.userGroups.map(e=>e.name).join(", ")},userSubAdminsGroupsLabels(){return this.userSubAdminsGroups.map(e=>e.name).join(", ")},usedSpace(){var e,s;return(e=this.user.quota)!=null&&e.used?t("settings","{size} used",{size:c((s=this.user.quota)==null?void 0:s.used)}):t("settings","{size} used",{size:c(0)})},canEdit(){return k().uid!==this.user.id||this.settings.isAdmin},userQuota(){var s;let e=(s=this.user.quota)==null?void 0:s.quota;return e==="default"&&(e=this.settings.defaultQuota,e!=="none"&&(e=g(e,!0))),e==="none"||e===-3?t("settings","Unlimited"):e>=0?c(e):c(0)},userActions(){const e=[{icon:"icon-delete",text:t("settings","Delete account"),action:this.deleteUser},{icon:"icon-delete",text:t("settings","Disconnect all devices and delete local data"),action:this.wipeUserDevices},{icon:this.user.enabled?"icon-close":"icon-add",text:this.user.enabled?t("settings","Disable account"):t("settings","Enable account"),action:this.enableDisableUser}];return this.user.email!==null&&this.user.email!==""&&e.push({icon:"icon-mail",text:t("settings","Resend welcome email"),action:this.sendWelcomeMail}),e.concat(this.externalActions)},editedUserQuota:{get(){return this.selectedQuota!==!1?this.selectedQuota:this.settings.defaultQuota!==h.id&&g(this.settings.defaultQuota,!0)>=0?{id:this.settings.defaultQuota,label:this.settings.defaultQuota}:h},set(e){this.selectedQuota=e}},availableLanguages(){return this.languages[0].languages.concat(this.languages[1].languages)}},async beforeMount(){this.user.manager&&await this.initManager(this.user.manager)},methods:{wipeUserDevices(){const e=this.user.id;OC.dialogs.confirmDestructive(t("settings","In case of lost device or exiting the organization, this can remotely wipe the Nextcloud data from all devices associated with {userid}. Only works if the devices are connected to the internet.",{userid:e}),t("settings","Remote wipe of devices"),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("settings","Wipe {userid}'s devices",{userid:e}),confirmClasses:"error",cancel:t("settings","Cancel")},s=>{s&&(this.loading.wipe=!0,this.loading.all=!0,this.$store.dispatch("wipeUserDevices",e).then(()=>u(t("settings","Wiped {userid}'s devices",{userid:e})),{timeout:2e3}).finally(()=>{this.loading.wipe=!1,this.loading.all=!1}))},!0)},filterManagers(e){return e.filter(s=>s.id!==this.user.id)},async initManager(e){await this.$store.dispatch("getUser",e).then(s=>{this.currentManager=s==null?void 0:s.data.ocs.data})},async searchInitialUserManager(){this.loadingPossibleManagers=!0,await this.searchUserManager(),this.loadingPossibleManagers=!1},async searchUserManager(e){await this.$store.dispatch("searchUsers",{offset:0,limit:10,search:e}).then(s=>{const a=s!=null&&s.data?this.filterManagers(Object.values(s==null?void 0:s.data.ocs.data.users)):[];a.length>0&&(this.possibleManagers=a)})},async updateUserManager(e){e===null&&(this.currentManager=""),this.loading.manager=!0;try{await this.$store.dispatch("setUserData",{userid:this.user.id,key:"manager",value:this.currentManager?this.currentManager.id:""})}catch(s){m(t("setting","Failed to update line manager")),console.error(s)}finally{this.loading.manager=!1}},deleteUser(){const e=this.user.id;OC.dialogs.confirmDestructive(t("settings","Fully delete {userid}'s account including all their personal files, app data, etc.",{userid:e}),t("settings","Account deletion"),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("settings","Delete {userid}'s account",{userid:e}),confirmClasses:"error",cancel:t("settings","Cancel")},s=>{if(s)return this.loading.delete=!0,this.loading.all=!0,this.$store.dispatch("deleteUser",e).then(()=>{this.loading.delete=!1,this.loading.all=!1})},!0)},enableDisableUser(){this.loading.delete=!0,this.loading.all=!0;const e=this.user.id,s=!this.user.enabled;return this.$store.dispatch("enableDisableUser",{userid:e,enabled:s}).then(()=>{this.loading.delete=!1,this.loading.all=!1})},updateDisplayName(){this.loading.displayName=!0,this.$store.dispatch("setUserData",{userid:this.user.id,key:"displayname",value:this.editedDisplayName}).then(()=>{this.loading.displayName=!1,this.editedDisplayName===this.user.displayname&&u(t("setting","Display name was successfully changed"))})},updatePassword(){this.loading.password=!0,this.editedPassword.length===0?(m(t("setting","Password can't be empty")),this.loading.password=!1):this.$store.dispatch("setUserData",{userid:this.user.id,key:"password",value:this.editedPassword}).then(()=>{this.loading.password=!1,this.editedPassword="",u(t("setting","Password was successfully changed"))})},updateEmail(){this.loading.mailAddress=!0,this.editedMail===""?(m(t("setting","Email can't be empty")),this.loading.mailAddress=!1,this.editedMail=this.user.email):this.$store.dispatch("setUserData",{userid:this.user.id,key:"email",value:this.editedMail}).then(()=>{this.loading.mailAddress=!1,this.editedMail===this.user.email&&u(t("setting","Email was successfully changed"))})},async createGroup({name:e}){this.loading={groups:!0,subadmins:!0};try{await this.$store.dispatch("addGroup",e);const s=this.user.id;await this.$store.dispatch("addUserGroup",{userid:s,gid:e})}catch(s){console.error(s)}finally{this.loading={groups:!1,subadmins:!1}}return this.$store.getters.getGroups[this.groups.length]},async addUserGroup(e){if(e.isCreating)return;this.loading.groups=!0;const s=this.user.id,a=e.id;if(e.canAdd===!1)return!1;try{await this.$store.dispatch("addUserGroup",{userid:s,gid:a})}catch(r){console.error(r)}finally{this.loading.groups=!1}},async removeUserGroup(e){if(e.canRemove===!1)return!1;this.loading.groups=!0;const s=this.user.id,a=e.id;try{await this.$store.dispatch("removeUserGroup",{userid:s,gid:a}),this.loading.groups=!1,this.$route.params.selectedGroup===a&&this.$store.commit("deleteUser",s)}catch{this.loading.groups=!1}},async addUserSubAdmin(e){this.loading.subadmins=!0;const s=this.user.id,a=e.id;try{await this.$store.dispatch("addUserSubAdmin",{userid:s,gid:a}),this.loading.subadmins=!1}catch(r){console.error(r)}},async removeUserSubAdmin(e){this.loading.subadmins=!0;const s=this.user.id,a=e.id;try{await this.$store.dispatch("removeUserSubAdmin",{userid:s,gid:a})}catch(r){console.error(r)}finally{this.loading.subadmins=!1}},async setUserQuota(e="none"){e==="none"&&(e=h),this.loading.quota=!0,e=e.id?e.id:e;try{const s=(g(e,!0)||e).toString();await this.$store.dispatch("setUserData",{userid:this.user.id,key:"quota",value:s})}catch(s){console.error(s)}finally{this.loading.quota=!1}return e},validateQuota(e){return typeof e=="object"&&(e=(e==null?void 0:e.id)||e.label),g(e,!0)===null?h:(e=c(g(e,!0)),{id:e,label:e})},async setUserLanguage(e){this.loading.languages=!0;try{await this.$store.dispatch("setUserData",{userid:this.user.id,key:"language",value:e.code}),this.loading.languages=!1}catch(s){console.error(s)}return e},sendWelcomeMail(){this.loading.all=!0,this.$store.dispatch("sendWelcomeMail",this.user.id).then(()=>u(t("setting","Welcome mail sent!"),{timeout:2e3})).finally(()=>{this.loading.all=!1})},async toggleEdit(){var e,s,a,r,n,o;this.editing=!this.editing,this.editing&&(await this.$nextTick(),(n=(r=(a=(s=(e=this.$refs.displayNameField)==null?void 0:e.$refs)==null?void 0:s.inputField)==null?void 0:a.$refs)==null?void 0:r.input)==null||n.focus()),this.editedDisplayName!==this.user.displayname?this.editedDisplayName=this.user.displayname:this.editedMail!==this.user.email&&(this.editedMail=(o=this.user.email)!=null?o:"")}}};var we=function(){var a,r,n,o;var e=this,s=e._self._c;return s("tr",{staticClass:"user-list__row",attrs:{"data-cy-user-row":e.user.id}},[s("td",{staticClass:"row__cell row__cell--avatar",attrs:{"data-cy-user-list-cell-avatar":""}},[e.isLoadingUser?s("NcLoadingIcon",{attrs:{name:e.t("settings","Loading account …"),size:32}}):e.visible?s("NcAvatar",{attrs:{"disable-menu":"","show-user-status":!1,user:e.user.id}}):e._e()],1),s("td",{staticClass:"row__cell row__cell--displayname",attrs:{"data-cy-user-list-cell-displayname":""}},[e.editing&&e.user.backendCapabilities.setDisplayName?[s("NcTextField",{ref:"displayNameField",staticClass:"user-row-text-field",class:{"icon-loading-small":e.loading.displayName},attrs:{"data-cy-user-list-input-displayname":"","data-loading":e.loading.displayName||void 0,"trailing-button-label":e.t("settings","Submit"),"show-trailing-button":!0,disabled:e.loading.displayName||e.isLoadingField,label:e.t("settings","Change display name"),"trailing-button-icon":"arrowRight",value:e.editedDisplayName,autocapitalize:"off",autocomplete:"off",spellcheck:"false"},on:{"update:value":function(i){e.editedDisplayName=i},"trailing-button-click":e.updateDisplayName}})]:e.isObfuscated?e._e():s("strong",{attrs:{title:((a=e.user.displayname)==null?void 0:a.length)>20?e.user.displayname:null}},[e._v(" "+e._s(e.user.displayname)+" ")])],2),s("td",{staticClass:"row__cell row__cell--username",attrs:{"data-cy-user-list-cell-username":""}},[s("span",{staticClass:"row__subtitle"},[e._v(e._s(e.user.id))])]),s("td",{staticClass:"row__cell",class:{"row__cell--obfuscated":e.hasObfuscated},attrs:{"data-cy-user-list-cell-password":""}},[e.editing&&e.settings.canChangePassword&&e.user.backendCapabilities.setPassword?[s("NcTextField",{staticClass:"user-row-text-field",class:{"icon-loading-small":e.loading.password},attrs:{"data-cy-user-list-input-password":"","data-loading":e.loading.password||void 0,"trailing-button-label":e.t("settings","Submit"),"show-trailing-button":!0,disabled:e.loading.password||e.isLoadingField,minlength:e.minPasswordLength,maxlength:"469",label:e.t("settings","Set new password"),"trailing-button-icon":"arrowRight",value:e.editedPassword,autocapitalize:"off",autocomplete:"new-password",required:"",spellcheck:"false",type:"password"},on:{"update:value":function(i){e.editedPassword=i},"trailing-button-click":e.updatePassword}})]:e.isObfuscated?s("span",[e._v(" "+e._s(e.t("settings","You do not have permissions to see the details of this account"))+" ")]):e._e()],2),s("td",{staticClass:"row__cell",attrs:{"data-cy-user-list-cell-email":""}},[e.editing?[s("NcTextField",{staticClass:"user-row-text-field",class:{"icon-loading-small":e.loading.mailAddress},attrs:{"data-cy-user-list-input-email":"","data-loading":e.loading.mailAddress||void 0,"show-trailing-button":!0,"trailing-button-label":e.t("settings","Submit"),label:e.t("settings","Set new email address"),disabled:e.loading.mailAddress||e.isLoadingField,"trailing-button-icon":"arrowRight",value:e.editedMail,autocapitalize:"off",autocomplete:"email",spellcheck:"false",type:"email"},on:{"update:value":function(i){e.editedMail=i},"trailing-button-click":e.updateEmail}})]:e.isObfuscated?e._e():s("span",{attrs:{title:((r=e.user.email)==null?void 0:r.length)>20?e.user.email:null}},[e._v(" "+e._s(e.user.email)+" ")])],2),s("td",{staticClass:"row__cell row__cell--large row__cell--multiline",attrs:{"data-cy-user-list-cell-groups":""}},[e.editing?[s("label",{staticClass:"hidden-visually",attrs:{for:"groups"+e.uniqueId}},[e._v(" "+e._s(e.t("settings","Add account to group"))+" ")]),s("NcSelect",{attrs:{"data-cy-user-list-input-groups":"","data-loading":e.loading.groups||void 0,"input-id":"groups"+e.uniqueId,"close-on-select":!1,disabled:e.isLoadingField,loading:e.loading.groups,multiple:!0,"append-to-body":!1,options:e.availableGroups,placeholder:e.t("settings","Add account to group"),taggable:e.settings.isAdmin,value:e.userGroups,label:"name","no-wrap":!0,"create-option":i=>({name:i,isCreating:!0})},on:{"option:created":e.createGroup,"option:selected":i=>e.addUserGroup(i.at(-1)),"option:deselected":e.removeUserGroup}})]:e.isObfuscated?e._e():s("span",{attrs:{title:((n=e.userGroupsLabels)==null?void 0:n.length)>40?e.userGroupsLabels:null}},[e._v(" "+e._s(e.userGroupsLabels)+" ")])],2),e.subAdminsGroups.length>0&&e.settings.isAdmin?s("td",{staticClass:"row__cell row__cell--large row__cell--multiline",attrs:{"data-cy-user-list-cell-subadmins":""}},[e.editing&&e.settings.isAdmin&&e.subAdminsGroups.length>0?[s("label",{staticClass:"hidden-visually",attrs:{for:"subadmins"+e.uniqueId}},[e._v(" "+e._s(e.t("settings","Set account as admin for"))+" ")]),s("NcSelect",{attrs:{"data-cy-user-list-input-subadmins":"","data-loading":e.loading.subadmins||void 0,"input-id":"subadmins"+e.uniqueId,"close-on-select":!1,disabled:e.isLoadingField,loading:e.loading.subadmins,label:"name","append-to-body":!1,multiple:!0,"no-wrap":!0,options:e.subAdminsGroups,placeholder:e.t("settings","Set account as admin for"),value:e.userSubAdminsGroups},on:{"option:deselected":e.removeUserSubAdmin,"option:selected":i=>e.addUserSubAdmin(i.at(-1))}})]:e.isObfuscated?e._e():s("span",{attrs:{title:((o=e.userSubAdminsGroupsLabels)==null?void 0:o.length)>40?e.userSubAdminsGroupsLabels:null}},[e._v(" "+e._s(e.userSubAdminsGroupsLabels)+" ")])],2):e._e(),s("td",{staticClass:"row__cell",attrs:{"data-cy-user-list-cell-quota":""}},[e.editing?[s("label",{staticClass:"hidden-visually",attrs:{for:"quota"+e.uniqueId}},[e._v(" "+e._s(e.t("settings","Select account quota"))+" ")]),s("NcSelect",{attrs:{"close-on-select":!0,"create-option":e.validateQuota,"data-cy-user-list-input-quota":"","data-loading":e.loading.quota||void 0,disabled:e.isLoadingField,loading:e.loading.quota,"append-to-body":!1,clearable:!1,"input-id":"quota"+e.uniqueId,options:e.quotaOptions,placeholder:e.t("settings","Select account quota"),taggable:!0},on:{"option:selected":e.setUserQuota},model:{value:e.editedUserQuota,callback:function(i){e.editedUserQuota=i},expression:"editedUserQuota"}})]:e.isObfuscated?e._e():[s("span",{attrs:{id:"quota-progress"+e.uniqueId}},[e._v(e._s(e.userQuota)+" ("+e._s(e.usedSpace)+")")]),s("NcProgressBar",{staticClass:"row__progress",class:{"row__progress--warn":e.usedQuota>80},attrs:{"aria-labelledby":"quota-progress"+e.uniqueId,value:e.usedQuota}})]],2),e.showConfig.showLanguages?s("td",{staticClass:"row__cell row__cell--large",attrs:{"data-cy-user-list-cell-language":""}},[e.editing?[s("label",{staticClass:"hidden-visually",attrs:{for:"language"+e.uniqueId}},[e._v(" "+e._s(e.t("settings","Set the language"))+" ")]),s("NcSelect",{attrs:{id:"language"+e.uniqueId,"data-cy-user-list-input-language":"","data-loading":e.loading.languages||void 0,"allow-empty":!1,disabled:e.isLoadingField,loading:e.loading.languages,clearable:!1,"append-to-body":!1,options:e.availableLanguages,placeholder:e.t("settings","No language set"),value:e.userLanguage,label:"name"},on:{input:e.setUserLanguage}})]:e.isObfuscated?e._e():s("span",[e._v(" "+e._s(e.userLanguage.name)+" ")])],2):e._e(),e.showConfig.showUserBackend||e.showConfig.showStoragePath?s("td",{staticClass:"row__cell row__cell--large",attrs:{"data-cy-user-list-cell-storage-location":""}},[e.isObfuscated?e._e():[e.showConfig.showUserBackend?s("span",[e._v(e._s(e.user.backend))]):e._e(),e.showConfig.showStoragePath?s("span",{staticClass:"row__subtitle",attrs:{title:e.user.storageLocation}},[e._v(" "+e._s(e.user.storageLocation)+" ")]):e._e()]],2):e._e(),e.showConfig.showLastLogin?s("td",{staticClass:"row__cell",attrs:{title:e.userLastLoginTooltip,"data-cy-user-list-cell-last-login":""}},[e.isObfuscated?e._e():s("span",[e._v(e._s(e.userLastLogin))])]):e._e(),s("td",{staticClass:"row__cell row__cell--large row__cell--fill",attrs:{"data-cy-user-list-cell-manager":""}},[e.editing?[s("label",{staticClass:"hidden-visually",attrs:{for:"manager"+e.uniqueId}},[e._v(" "+e._s(e.managerLabel)+" ")]),s("NcSelect",{staticClass:"select--fill",attrs:{"data-cy-user-list-input-manager":"","data-loading":e.loading.manager||void 0,"input-id":"manager"+e.uniqueId,"close-on-select":!0,disabled:e.isLoadingField,"append-to-body":!1,loading:e.loadingPossibleManagers||e.loading.manager,label:"displayname",options:e.possibleManagers,placeholder:e.managerLabel},on:{open:e.searchInitialUserManager,search:e.searchUserManager,"option:selected":e.updateUserManager},model:{value:e.currentManager,callback:function(i){e.currentManager=i},expression:"currentManager"}})]:e.isObfuscated?e._e():s("span",[e._v(" "+e._s(e.user.manager)+" ")])],2),s("td",{staticClass:"row__cell row__cell--actions",attrs:{"data-cy-user-list-cell-actions":""}},[e.visible&&!e.isObfuscated&&e.canEdit&&!e.loading.all?s("UserRowActions",{attrs:{actions:e.userActions,disabled:e.isLoadingField,edit:e.editing,user:e.user},on:{"update:edit":e.toggleEdit}}):e._e()],1)])},ye=[],ve=d(_e,we,ye,!1,null,"c927da90");const Ue=ve.exports,U=Object.freeze({id:"",displayName:"",password:"",mailAddress:"",groups:[],manager:"",subAdminsGroups:[],quota:N,language:{code:"en",name:t("settings","Default language")}}),Ce={name:"UserList",components:{Fragment:z,NcEmptyContent:Q,NcIconSvgWrapper:S,NcLoadingIcon:_,NewUserDialog:se,UserListFooter:ne,UserListHeader:ce,VirtualList:K},props:{selectedGroup:{type:String,default:null},externalActions:{type:Array,default:()=>[]}},setup(){return{mdiAccountGroup:H,rowHeight:55,UserRow:Ue}},data(){return{loading:{all:!1,groups:!1,users:!1},newUser:{...U},isInitialLoad:!0,searchQuery:""}},computed:{showConfig(){return this.$store.getters.getShowConfig},settings(){return this.$store.getters.getServerData},style(){return{"--row-height":"".concat(this.rowHeight,"px")}},hasObfuscated(){return this.filteredUsers.some(e=>q(e))},users(){return this.$store.getters.getUsers},filteredUsers(){return this.selectedGroup==="disabled"?this.users.filter(e=>e.enabled===!1):this.settings.isAdmin?this.users.filter(e=>e.enabled!==!1):this.users.filter(e=>e.enabled!==!1)},groups(){return this.$store.getters.getGroups.filter(e=>e.id!=="disabled").sort((e,s)=>e.name.localeCompare(s.name))},subAdminsGroups(){return this.$store.getters.getSubadminGroups},quotaOptions(){const e=this.settings.quotaPreset.reduce((s,a)=>s.concat({id:a,label:a}),[]);return this.settings.allowUnlimitedQuota&&e.unshift(h),e.unshift(N),e},usersOffset(){return this.$store.getters.getUsersOffset},usersLimit(){return this.$store.getters.getUsersLimit},disabledUsersOffset(){return this.$store.getters.getDisabledUsersOffset},disabledUsersLimit(){return this.$store.getters.getDisabledUsersLimit},usersCount(){return this.users.length},languages(){return[{label:t("settings","Common languages"),languages:this.settings.languages.commonLanguages},{label:t("settings","Other languages"),languages:this.settings.languages.otherLanguages}]}},watch:{async selectedGroup(e){this.isInitialLoad=!0,await this.redirectIfDisabled(),this.$store.commit("resetUsers"),await this.loadUsers(),this.setNewUserDefaultGroup(e)},filteredUsers(e){b.debug("".concat(e.length," filtered user(s)"))}},async created(){await this.loadUsers()},async mounted(){this.settings.canChangePassword||OC.Notification.showTemporary(t("settings","Password change is disabled because the master key is disabled")),this.resetForm(),y("nextcloud:unified-search.search",this.search),y("nextcloud:unified-search.reset",this.resetSearch),await this.redirectIfDisabled()},beforeDestroy(){v("nextcloud:unified-search.search",this.search),v("nextcloud:unified-search.reset",this.resetSearch)},methods:{async handleScrollEnd(){await this.loadUsers()},async loadUsers(){this.loading.users=!0;try{this.selectedGroup==="disabled"?await this.$store.dispatch("getDisabledUsers",{offset:this.disabledUsersOffset,limit:this.disabledUsersLimit,search:this.searchQuery}):await this.$store.dispatch("getUsers",{offset:this.usersOffset,limit:this.usersLimit,group:this.selectedGroup,search:this.searchQuery}),b.debug("".concat(this.users.length," total user(s) loaded"))}catch(e){b.error("Failed to load accounts",{error:e}),m("Failed to load accounts")}this.loading.users=!1,this.isInitialLoad=!1},closeDialog(){this.$store.commit("setShowConfig",{key:"showNewUserForm",value:!1})},async search({query:e}){this.searchQuery=e,this.$store.commit("resetUsers"),await this.loadUsers()},resetSearch(){this.search({query:""})},resetForm(){this.newUser=Object.assign({},U),this.settings.defaultLanguage&&p.set(this.newUser.language,"code",this.settings.defaultLanguage),this.setNewUserDefaultGroup(this.selectedGroup),this.loading.all=!1},setNewUserDefaultGroup(e){if(e&&e.length>0){const s=this.groups.find(a=>a.id===e);if(s){this.newUser.groups=[s];return}}this.newUser.groups=[]},async redirectIfDisabled(){const e=this.$store.getters.getGroups;this.selectedGroup==="disabled"&&e.findIndex(s=>s.id==="disabled"&&s.usercount===0)>-1&&(this.$router.push({name:"users"}),await this.loadUsers())}}};var Ae=function(){var e=this,s=e._self._c;return s("Fragment",[e.showConfig.showNewUserForm?s("NewUserDialog",{attrs:{loading:e.loading,"new-user":e.newUser,"quota-options":e.quotaOptions},on:{reset:e.resetForm,closing:e.closeDialog}}):e._e(),e.filteredUsers.length===0?s("NcEmptyContent",{staticClass:"empty",attrs:{name:e.isInitialLoad&&e.loading.users?null:e.t("settings","No accounts")},scopedSlots:e._u([{key:"icon",fn:function(){return[e.isInitialLoad&&e.loading.users?s("NcLoadingIcon",{attrs:{name:e.t("settings","Loading accounts …"),size:64}}):s("NcIconSvgWrapper",{attrs:{path:e.mdiAccountGroup,size:64}})]},proxy:!0}],null,!1,226056511)}):s("VirtualList",{style:e.style,attrs:{"data-component":e.UserRow,"data-sources":e.filteredUsers,"data-key":"id","data-cy-user-list":"","item-height":e.rowHeight,"extra-props":{users:e.users,settings:e.settings,hasObfuscated:e.hasObfuscated,groups:e.groups,subAdminsGroups:e.subAdminsGroups,quotaOptions:e.quotaOptions,languages:e.languages,externalActions:e.externalActions}},on:{"scroll-end":e.handleScrollEnd},scopedSlots:e._u([{key:"before",fn:function(){return[s("caption",{staticClass:"hidden-visually"},[e._v(" "+e._s(e.t("settings","List of accounts. This list is not fully rendered for performance reasons. The accounts will be rendered as you navigate through the list."))+" ")])]},proxy:!0},{key:"header",fn:function(){return[s("UserListHeader",{attrs:{"has-obfuscated":e.hasObfuscated}})]},proxy:!0},{key:"footer",fn:function(){return[s("UserListFooter",{attrs:{loading:e.loading.users,"filtered-users":e.filteredUsers}})]},proxy:!0}])})],1)},Le=[],Se=d(Ce,Ae,Le,!1,null,"b37a6507");const qe=Se.exports,Ne=L({name:"UserManagement",components:{NcAppContent:E,UserList:qe},data(){return{externalActions:[]}},computed:{pageHeading(){var e;return this.selectedGroupDecoded===null?l("settings","Active accounts"):(e={admin:l("settings","Admins"),disabled:l("settings","Disabled accounts")}[this.selectedGroupDecoded])!=null?e:l("settings","Account group: {group}",{group:this.selectedGroupDecoded})},selectedGroup(){return this.$route.params.selectedGroup},selectedGroupDecoded(){return this.selectedGroup?decodeURIComponent(this.selectedGroup):null}},beforeMount(){this.$store.commit("initGroups",{groups:this.$store.getters.getServerData.groups,orderBy:this.$store.getters.getServerData.sortGroups,userCount:this.$store.getters.getServerData.userCount}),this.$store.dispatch("getPasswordPolicyMinLength")},created(){var e,s,a;window.OCA=(e=window.OCA)!=null?e:{},window.OCA.Settings=(s=window.OCA.Settings)!=null?s:{},window.OCA.Settings.UserList=(a=window.OCA.Settings.UserList)!=null?a:{},window.OCA.Settings.UserList.registerAction=this.registerAction},methods:{t:l,registerAction(e,s,a){return this.externalActions.push({icon:e,text:s,action:a}),this.externalActions}}});var Oe=function(){var e=this,s=e._self._c;return e._self._setupProxy,s("NcAppContent",{attrs:{"page-heading":e.pageHeading}},[s("UserList",{attrs:{"selected-group":e.selectedGroupDecoded,"external-actions":e.externalActions}})],1)},$e=[],xe=d(Ne,Oe,$e,!1,null,"1a0f5d9f");const Be=xe.exports;export{Be as default};
