const __vite__fileDeps=["./chunks/SharingTab-I7kwgdmh.mjs","./core-common.mjs","./chunks/index-CFlSzEWv.mjs","./chunks/index-YIotKjSS.mjs","./chunks/index-7XKGWWeV.mjs","./chunks/_plugin-vue2_normalizer-VrK6B12S-B9aYHv6f.mjs","./chunks/icons-DENytzON.mjs","./chunks/index-D61A_Z5g.mjs","./chunks/index-BxD44Goc.mjs","./chunks/vue-qrcode.esm-CarG3uCI.mjs"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
/*! third party licenses: dist/vendor.LICENSE.txt */
var d=Object.defineProperty;var h=(e,t,s)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>(h(e,typeof t!="symbol"?t+"":t,s),s);import{_ as l}from"./chunks/preload-helper-BG02UnR2.mjs";import{aW as a,bT as r,c6 as u}from"./core-common.mjs";import{a2 as g}from"./chunks/icons-DENytzON.mjs";class p{constructor(){n(this,"_state");this._state={},this._state.results=[],console.debug("OCA.Sharing.ShareSearch initialized")}get state(){return this._state}addNewResult(t){return t.displayName.trim()!==""&&typeof t.handler=="function"?(this._state.results.push(t),!0):(console.error("Invalid search result provided",t),!1)}}class S{constructor(){n(this,"_state");this._state={},this._state.actions=[],console.debug("OCA.Sharing.ExternalLinkActions initialized")}get state(){return this._state}registerAction(t){return OC.debug&&console.warn("OCA.Sharing.ExternalLinkActions is deprecated, use OCA.Sharing.ExternalShareAction instead"),typeof t=="object"&&t.icon&&t.name&&t.url?(this._state.actions.push(t),!0):(console.error("Invalid action provided",t),!1)}}class _{constructor(){n(this,"_state");this._state={},this._state.actions=[],console.debug("OCA.Sharing.ExternalShareActions initialized")}get state(){return this._state}registerAction(t){return typeof t!="object"||typeof t.id!="string"||typeof t.data!="function"||!Array.isArray(t.shareType)||typeof t.handlers!="object"||!Object.values(t.handlers).every(s=>typeof s=="function")?(console.error("Invalid action provided",t),!1):this._state.actions.findIndex(s=>s.id===t.id)>-1?(console.error("An action with the same id ".concat(t.id," already exists"),t),!1):(this._state.actions.push(t),!0)}}class A{constructor(){n(this,"_sections");this._sections=[]}registerSection(t){this._sections.push(t)}getSections(){return this._sections}}window.OCA.Sharing||(window.OCA.Sharing={}),Object.assign(window.OCA.Sharing,{ShareSearch:new p}),Object.assign(window.OCA.Sharing,{ExternalLinkActions:new S}),Object.assign(window.OCA.Sharing,{ExternalShareActions:new _}),Object.assign(window.OCA.Sharing,{ShareTabSections:new A}),a.prototype.t=r,a.prototype.n=u;let i=null;window.addEventListener("DOMContentLoaded",function(){OCA.Files&&OCA.Files.Sidebar&&OCA.Files.Sidebar.registerTab(new OCA.Files.Sidebar.Tab({id:"sharing",name:r("files_sharing","Sharing"),iconSvg:g,async mount(e,t,s){const o=(await l(()=>import("./chunks/SharingTab-I7kwgdmh.mjs"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)).default,c=a.extend(o);i&&i.$destroy(),i=new c({parent:s}),await i.update(t),i.$mount(e)},update(e){i.update(e)},destroy(){i.$destroy(),i=null}}))});
