/*! third party licenses: dist/vendor.LICENSE.txt */
import{af as r,bS as l,b_ as c,ai as u,c0 as i,aW as o}from"./core-common.mjs";import"./chunks/index-7XKGWWeV.mjs";import{z as p}from"./chunks/_plugin-vue2_normalizer-VrK6B12S-B9aYHv6f.mjs";import{l as d}from"./chunks/logger-BPaGOp_B.mjs";import{n}from"./chunks/icons-DENytzON.mjs";const g={name:"GroupSelect",components:{NcSelect:r},props:{availableGroups:{type:Array,default:()=>[]},setting:{type:Object,required:!0},authorizedGroups:{type:Array,required:!0}},data(){return{selected:this.authorizedGroups.filter(e=>e.class===this.setting.class).map(e=>this.availableGroups.find(s=>s.gid===e.group_id)).filter(e=>e!==void 0)}},watch:{selected(){this.saveGroups()}},methods:{async saveGroups(){const e={newGroups:this.selected,class:this.setting.class};try{await l.post(c("/apps/settings/")+"/settings/authorizedgroups/saveSettings",e)}catch(s){p(t("settings","Unable to modify setting")),d.error("Unable to modify setting",s)}}}};var m=function(){var e=this,s=e._self._c;return s("NcSelect",{staticClass:"group-select",attrs:{"input-id":e.setting.id,placeholder:e.t("settings","None"),label:"displayName",options:e.availableGroups,multiple:!0,"close-on-select":!1},model:{value:e.selected,callback:function(a){e.selected=a},expression:"selected"}})},h=[],v=n(g,m,h,!1,null,null);const f=v.exports,b={name:"AdminDelegating",components:{GroupSelect:f,NcSettingsSection:u},data(){return{availableSettings:i("settings","available-settings"),availableGroups:i("settings","available-groups"),authorizedGroups:i("settings","authorized-groups"),authorizedSettingsDocLink:i("settings","authorized-settings-doc-link")}}};var G=function(){var e=this,s=e._self._c;return s("NcSettingsSection",{attrs:{name:e.t("settings","Administration privileges"),description:e.t("settings","Here you can decide which group can access certain sections of the administration settings."),"doc-url":e.authorizedSettingsDocLink}},[s("div",{staticClass:"setting-list"},e._l(e.availableSettings,function(a){return s("div",{key:a.class},[s("label",{attrs:{for:a.id}},[e._v(e._s(a.sectionName))]),s("GroupSelect",{attrs:{"available-groups":e.availableGroups,"authorized-groups":e.authorizedGroups,setting:a}})],1)}),0)])},S=[],y=n(b,G,S,!1,null,"4df44833");const z=y.exports;o.prototype.OC=OC,o.prototype.t=t;const _=o.extend(z),N=new _;N.$mount("#admin-right-sub-granting");
