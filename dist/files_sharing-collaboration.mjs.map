{"version":3,"file":"files_sharing-collaboration.mjs","sources":["../apps/files_sharing/src/collaborationresourceshandler.js"],"sourcesContent":["/**\n * @copyright Copyright (c) 2016 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nwindow.OCP.Collaboration.registerType('file', {\n\taction: () => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tOC.dialogs.filepicker(t('files_sharing', 'Link to a file'), function(f) {\n\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\tclient.getFileInfo(f).then((status, fileInfo) => {\n\t\t\t\t\tresolve(fileInfo.id)\n\t\t\t\t}).fail(() => {\n\t\t\t\t\treject(new Error('Cannot get fileinfo'))\n\t\t\t\t})\n\t\t\t}, false, null, false, OC.dialogs.FILEPICKER_TYPE_CHOOSE, '', { allowDirectoryChooser: true })\n\t\t})\n\t},\n\ttypeString: t('files_sharing', 'Link to a file'),\n\ttypeIconClass: 'icon-files-dark',\n})\n"],"names":["resolve","reject","f","status","fileInfo"],"mappings":";AAuBA,OAAO,IAAI,cAAc,aAAa,OAAQ,CAC7C,OAAQ,IACA,IAAI,QAAQ,CAACA,EAASC,IAAW,CACvC,GAAG,QAAQ,WAAW,EAAE,gBAAiB,gBAAgB,EAAG,SAASC,EAAG,CACxD,GAAG,MAAM,UAAW,EAC5B,YAAYA,CAAC,EAAE,KAAK,CAACC,EAAQC,IAAa,CAChDJ,EAAQI,EAAS,EAAE,CACxB,CAAK,EAAE,KAAK,IAAM,CACbH,EAAO,IAAI,MAAM,qBAAqB,CAAC,CAC5C,CAAK,CACD,EAAE,GAAO,KAAM,GAAO,GAAG,QAAQ,uBAAwB,GAAI,CAAE,sBAAuB,GAAM,CAChG,CAAG,EAEF,WAAY,EAAE,gBAAiB,gBAAgB,EAC/C,cAAe,iBAChB,CAAC"}